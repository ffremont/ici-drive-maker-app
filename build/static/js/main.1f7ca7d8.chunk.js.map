{"version":3,"sources":["assets/images/google.svg","assets/images/mail.svg","assets/images/ici-drive-icon.png","assets/images/ici-drive-banner.png","array.sortBy.js","services/auth.service.ts","stubs/firebase.ts","services/http-client.service.ts","confs/index.ts","stores/maker.ts","views/login/index.tsx","components/private-route/index.tsx","components/menu-app/index.tsx","views/no-match/index.tsx","models/order.ts","services/fcm.service.ts","stores/orders.ts","views/my-orders/index.tsx","views/order/confirm/index.tsx","views/order/index.tsx","views/error/index.tsx","views/home/index.tsx","App.tsx","index.tsx"],"names":["module","exports","Array","prototype","sortBy","propertyName","sortDirection","sortArguments","arguments","this","sort","objA","objB","result","argIndex","length","subToken","BehaviorSubject","subMaker","isAuth","maker","next","idToken","window","firebase","auth","signOut","ProviderStub","addProfile","name","addScope","setCustomParameters","data","FirebaseStub","isSigned","authFns","userMock","email","idTokenMock","authDelayMock","getIdTokenPromise","getIdTokenPromiseResolve","Promise","resolve","FacebookAuthProvider","EmailAuthProvider","GoogleAuthProvider","usePublicVapidKey","onMessage","onTokenRefresh","console","log","onAuthStateChanged","fn","push","setTimeout","forEach","authFn","splice","findIndex","af","signInWithRedirect","provider","currentUser","getIdToken","subRequest","Subject","subResponse","config","axios","authService","subscribe","token","responseType","timeout","transformRequest","headers","Authorization","JSON","stringify","transformResponse","create","func","other","cgu","cgr","support","baseURL","fcmPublicVapidKey","API","self","API_BASEURL","orders","ref","categories","prod","process","REACT_APP_STAGE","sub","httpClientService","get","conf","then","response","set","catch","e","error","init","Login","unregisterAuthObserver","state","loading","isSignedIn","from","sign","registerOnFirebase","props","location","setState","fromPathname","user","setIdToken","makerStore","load","style","position","left","top","transform","CircularProgress","className","to","pathname","Container","component","maxWidth","CssBaseline","Avatar","Typography","variant","Button","type","fullWidth","size","color","onClick","signGoogle","alt","src","GoogleIcon","signEmail","MailIcon","React","Component","PrivateRoute","children","rest","realCmp","render","history","match","createElement","useStyles","makeStyles","theme","createStyles","root","flexGrow","firstButton","marginRight","spacing","appBar","palette","grey","background","common","white","title","paddingRight","list","width","fullList","MenuApp","classes","useState","mode","setMode","open","setOpen","useEffect","Drawer","anchor","onClose","List","ListItem","selected","button","key","ListItemIcon","ListItemText","primary","secondary","confirm","signout","reload","AppBar","Toolbar","IconButton","edge","aria-label","goBack","IciDriveBannerIcon","indexOf","align","IciDriveTypoIcon","aria-controls","aria-haspopup","NoMatch","OrderState","fcm","lastFcm","messaging","isInit","bind","getToken","refreshedToken","err","payload","OrdersStore","id","order","put","MyOrders","statusLabel","unsubscribe","PENDING","label","orange","CANCELLED","VERIFIED","CONFIRMED","green","REFUSED","ordersStore","map","i","ListItemAvatar","status","substr","toUpperCase","total","moment","created","format","ListItemSecondaryAction","withStyles","getContrastText","deepOrange","backgroundColor","Confirm","text","setText","handleClose","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","message","withText","TextField","value","onChange","target","autoFocus","margin","inputProps","maxLength","DialogActions","onConfirm","okText","pendingActions","icon","actions","Order","hidden","openCancelDialog","openInfoConfirmed","O","params","newOrder","reasonOf","update","action","print","phone","currentOrder","paymentsLabels","payments","acceptPaypal","acceptCards","acceptBankCheck","acceptCoins","filter","c","join","Grid","container","direction","justify","item","Chip","Alert","severity","readOnly","address","customer","lastname","firstname","place","slot","choices","TableContainer","Table","table","TableHead","TableRow","TableCell","TableBody","pc","quantity","product","price","description","colSpan","txt","cancel","SpeedDial","ariaLabel","SpeedDialIcon","onOpen","SpeedDialAction","tooltipTitle","tooltipOpen","onClickDialAction","Fab","onClickConfirmOrder","minWidth","Error","Home","createMuiTheme","App","concurrentCalls","subHttpClientRequest","subHttpClientResponse","fcmService","subOnRequest","subOnResponse","Backdrop","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1f7ca7d8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/google.752536d8.svg\";","module.exports = __webpack_public_path__ + \"static/media/mail.59ed2e77.svg\";","module.exports = __webpack_public_path__ + \"static/media/ici-drive-icon.546ec8b4.png\";","module.exports = __webpack_public_path__ + \"static/media/ici-drive-banner.117fc591.png\";","//https://stackoverflow.com/questions/6129952/javascript-sort-array-by-two-fields\nArray.prototype.sortBy = function (propertyName, sortDirection) {\n\n    var sortArguments = arguments;\n    this.sort(function (objA, objB) {\n\n        var result = 0;\n        for (var argIndex = 0; argIndex < sortArguments.length && result === 0; argIndex += 2) {\n\n            var propertyName = sortArguments[argIndex];\n            result = (objA[propertyName] < objB[propertyName]) ? -1 : (objA[propertyName] > objB[propertyName]) ? 1 : 0;\n\n            //Reverse if sort order is false (DESC)\n            result *= !sortArguments[argIndex + 1] ? 1 : -1;\n        }\n        return result;\n    });\n\n}","import { Maker } from \"../models/maker\";\nimport { BehaviorSubject } from \"rxjs\";\n\nexport class AuthService{\n    public subToken = new BehaviorSubject<string|null>(null);\n    public subMaker = new BehaviorSubject<Maker|null>(null);\n    public isAuth = false;\n\n    public authenticate(maker:Maker): void {\n        this.isAuth = true;\n        this.subMaker.next(maker);\n    }\n\n    public setIdToken(idToken:string){\n        this.subToken.next(idToken);\n    }\n\n    signout() {\n        this.isAuth = false;\n        this.subMaker.next(null);\n        this.subToken.next(null);\n        \n        if((window as any).firebase){\n            (window as any).firebase.auth().signOut();\n        }\n    }\n}\n\nexport default new AuthService() ;","function ProviderStub(){}\nProviderStub.prototype.addProfile = (name: string) => {}\nProviderStub.prototype.addScope = (name: string) => {}\nProviderStub.prototype.setCustomParameters = (data: any) => {}\n\n\nexport class FirebaseStub {\n\n    private isSigned = true;\n\n    private authFns:any = [];\n    private userMock:any = { email: 'ff.fremont.florent@gmail.com' };\n    private idTokenMock = 'azerty';\n    private authDelayMock = 2000;\n\n    getIdTokenPromise:any;\n    getIdTokenPromiseResolve:any;\n\n\n    constructor(){\n        this.getIdTokenPromise = new Promise((resolve) => {\n            this.getIdTokenPromiseResolve = resolve;\n        });\n    }\n\n    public init(){\n        const me:any = this;\n        me.auth.FacebookAuthProvider = () => ProviderStub;\n        me.auth.EmailAuthProvider = () => ProviderStub;\n        me.auth.GoogleAuthProvider = () => ProviderStub;\n\n        return this;\n    }\n\n    public messaging(){\n        return {\n            usePublicVapidKey: () => {},\n            onMessage: () => {},\n            onTokenRefresh: () => {}\n        };\n    }\n\n    public auth() {\n        return {\n                signOut:() => {console.log('signOut')},\n                onAuthStateChanged: (fn: any) => {\n                this.authFns.push(fn);\n\n                if(this.isSigned){\n                    setTimeout( () => {\n                        this.authFns.forEach((authFn:any) => authFn(this.userMock))\n                        this.getIdTokenPromiseResolve(this.idTokenMock);\n                    }, this.authDelayMock);                \n                }else{\n                    this.authFns.forEach((authFn:any) => authFn(null))\n                }\n\n                return () => { this.authFns.splice( this.authFns.findIndex((af:any) => af === fn), 1) };\n            },\n            signInWithRedirect: (provider:any) => {\n                setTimeout(() =>{ // simulate auth process\n                    this.authFns.forEach((authFn:any) => authFn(this.userMock));\n                    this.getIdTokenPromiseResolve(this.idTokenMock);\n                },1000);\n            },\n            currentUser: {\n                getIdToken: () => this.getIdTokenPromise\n            }\n        };\n    }\n}\n\n","import axios, {AxiosRequestConfig} from 'axios';\nimport { Subscription, Subject } from 'rxjs';\nimport { HttpCall } from '../models/httpcall';\nimport authService from './auth.service';\n\n\nclass HttpClientService{\n    private subRequest = new Subject<HttpCall>();\n    private subResponse = new Subject<HttpCall>();\n\n    private config: AxiosRequestConfig;\n    private idToken: string|null = null;\n\n    public axios:any;\n\n    constructor(){\n        setTimeout(() => {\n            authService.subToken.subscribe( (token:any) => this.idToken = token );\n        },0);\n\n        this.config = {\n            responseType: 'json',\n            timeout: 15000,\n            transformRequest: [(data:any, headers:any)=>{\n                headers['Content-Type'] = 'application/json';\n                if(this.idToken !== null){\n                    headers.Authorization = `Bearer ${this.idToken}`;\n                }\n                this.subRequest.next({data, headers});\n                return JSON.stringify(data);\n            }],\n            transformResponse: [(data:any, headers:any)=>{\n                this.subResponse.next({data, headers});\n                return data;\n            }]\n        };\n        this.axios = axios.create(this.config);\n        //// Alter defaults after instance has been created\n        //instance.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n    }\n\n    public subOnRequest(func:any): Subscription{\n        return this.subRequest.subscribe(func);\n    }\n\n    public subOnResponse(func:any): Subscription{\n        return this.subResponse.subscribe(func);\n    }\n}\n\nexport default new HttpClientService() ;","\nimport { Configuration } from \"./configuration\";\n\n\nconst DEV_API_BASEURL = '/api-mock';\nconst other: Configuration = {\n    cgu: 'https://docs.google.com/document/d/e/2PACX-1vRxz61BpPZL-YJXX2E6tvdYsI0PG1vxv1eGjxQ7TMfqififiO-Snb5pZU21bkjZgTHyENu3I5nFzxRZ/pub',\n    cgr: 'http://google.fr',\n    support: 'https://forms.gle/q4KYieunhwWVn1BR6',\n    baseURL: 'https://app.ici-drive.fr',\n    fcmPublicVapidKey: 'BO7yESbBXsx7ddVzYqvkNpWf-3S6sjqQxEoolQQ1OG02D0-nmrpowEsYRHuoGEzT4w5Np6Gdwto5FiLsS--sONw',\n    API: {\n        self: () => `${API_BASEURL}/makers/self.json`,\n        orders: (ref?:string) => `${DEV_API_BASEURL}/my-orders.json?ref=${ref}`,\n    },\n    categories:[\n        { \"label\": \"Viandes\", \"id\": \"viandes\"},\n        { \"label\": \"Oeufs\", \"id\": \"oeufs\"},\n        { \"label\": \"Laitiers\", \"id\": \"laitiers\"},\n        { \"label\": \"Epiceries\", \"id\": \"epiceries\"},\n        { \"label\": \"Fruits / Légumes\", \"id\": \"fruit-leg\"},\n        { \"label\": \"Mer\", \"id\": \"mer\"},\n        { \"label\": \"Glaces\", \"id\": \"glace\"},\n        { \"label\": \"Boissons\", \"id\": \"boissons\"},\n    ]\n} ;\n\nconst API_BASEURL = '/api';\nconst prod: Configuration = {\n    cgu: 'https://docs.google.com/document/d/e/2PACX-1vRxz61BpPZL-YJXX2E6tvdYsI0PG1vxv1eGjxQ7TMfqififiO-Snb5pZU21bkjZgTHyENu3I5nFzxRZ/pub',\n    cgr: '',\n    support: 'https://forms.gle/q4KYieunhwWVn1BR6',\n    baseURL: 'https://app.ici-drive.fr',\n    fcmPublicVapidKey: 'BO7yESbBXsx7ddVzYqvkNpWf-3S6sjqQxEoolQQ1OG02D0-nmrpowEsYRHuoGEzT4w5Np6Gdwto5FiLsS--sONw',\n    API: {\n        self: () => `${API_BASEURL}/admin/makers/self`,\n        orders: (ref?:string) => `${API_BASEURL}/admin/my-orders/${ref || ''}`,\n    },\n    categories:[\n        { \"label\": \"Viandes\", \"id\": \"viandes\"},\n        { \"label\": \"Oeufs\", \"id\": \"oeufs\"},\n        { \"label\": \"Laitiers\", \"id\": \"laitiers\"},\n        { \"label\": \"Epiceries\", \"id\": \"epiceries\"},\n        { \"label\": \"Fruits / Légumes\", \"id\": \"fruit-leg\"},\n        { \"label\": \"Mer\", \"id\": \"mer\"},\n        { \"label\": \"Glaces\", \"id\": \"glace\"},\n        { \"label\": \"Boissons\", \"id\": \"boissons\"},\n    ]\n} ;\n\nconst config = process.env.REACT_APP_STAGE === 'prod'  ? prod : other;\n\n  export default { ...config};","import {BehaviorSubject, Subscription} from 'rxjs';\nimport { Maker } from '../models/maker';\nimport { Store } from './store';\nimport httpClientService from '../services/http-client.service';\nimport conf from '../confs';\nimport {AxiosResponse} from 'axios';\n\nclass MakerStore implements Store<Maker|null>{\n    private sub = new BehaviorSubject<Maker|null>(null);\n\n    public set(maker: Maker|null): void{\n        this.sub.next(maker);\n    }\n\n    public subscribe(func:any): Subscription{\n        return this.sub.subscribe(func);\n    }\n\n    public load():void{\n        httpClientService.axios.get(conf.API.self())\n        .then((response: AxiosResponse<any>) => {\n            this.set(response.data);    \n        }).catch((e:any) => {\n            console.error(e);\n        });\n    }\n}\n\nexport default new MakerStore() ;","import React from 'react';\nimport './Login.scss';\nimport {\n  Redirect\n} from 'react-router-dom';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport GoogleIcon from '../../assets/images/google.svg';\nimport MailIcon from '../../assets/images/mail.svg';\nimport authService from '../../services/auth.service';\nimport {FirebaseStub} from '../../stubs/firebase';\nimport makerStore from '../../stores/maker';\n\nif(process.env.REACT_APP_STAGE !== 'prod'){\n  (window as any).firebase = (new FirebaseStub()).init();\n}\n\nclass Login extends React.Component<{history:any,location:any}, {loading:boolean, isSignedIn:boolean, from:string}> {\n  unregisterAuthObserver: any = null;\n\n  // The component's Local state.\n  state = {\n    loading: true, // waiting onAuthStateChanged\n    isSignedIn: false, // Local signed-in state.\n    from: '/'\n  };\n\n  private sign(provider:any){\n    provider.addScope('profile');\n    provider.addScope('email');\n    (window as any).firebase.auth().signInWithRedirect(provider);\n  }\n\n  signEmail(){\n    this.sign(process.env.REACT_APP_STAGE === 'prod' ? new (window as any).firebase.auth.EmailAuthProvider() : new ((window as any).firebase.auth.EmailAuthProvider()));\n  }\n\n  signGoogle(){\n    const provider:any = process.env.REACT_APP_STAGE === 'prod' ?  new (window as any).firebase.auth.GoogleAuthProvider() : new ((window as any).firebase.auth.GoogleAuthProvider());\n    this.sign(provider);    \n  }\n\n  componentDidMount() {\n    this.registerOnFirebase();\n\n    if(this.props.location){\n      if(this.props.location.state){\n        this.setState({from: this.props.location.state.fromPathname});\n      }else{\n        this.setState({from: '/'});\n      }      \n    }\n  }\n\n  private registerOnFirebase(){\n    this.unregisterAuthObserver = (window as any).firebase.auth().onAuthStateChanged(\n      (user:any) => {\n        this.setState({ loading: false, isSignedIn: !!user })\n        if(user){\n          (window as any).firebase.auth().currentUser.getIdToken().then((token:string) => authService.setIdToken(token));\n\n          // avec le idToken, self() marchera\n          makerStore.load();\n\n          //authService.authenticate({email: user.email});\n        }else{\n          // no authenticated, noop show buttons\n        }        \n      }\n    );\n  }\n\n  // Make sure we un-register Firebase observers when the component unmounts.\n  componentWillUnmount() {\n    if(this.unregisterAuthObserver){\n      this.unregisterAuthObserver();\n    }\n  }\n\n  render() {\n    if(this.state.loading){\n      return <div\n      style={{\n          position: 'absolute', \n          left: '50%', \n          top: '50%',\n          transform: 'translate(-50%, -50%)'\n      }}\n  ><CircularProgress className=\"wait-auth\" /></div>;\n    }else{\n      if (this.state.isSignedIn) {\n        return <Redirect\n          to={{\n            pathname: this.state.from,\n            state: { from: '/login' }\n          }}\n        />;\n      } else {\n        return <div className=\"login\">\n          <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline />\n            <div className=\"paper\">\n              <Avatar className=\"avatar\">\n                <LockOutlinedIcon />\n              </Avatar>\n              <Typography component=\"h1\" variant=\"h5\">\n                Connexion\n          </Typography>\n              \n              <Button\n                type=\"button\"\n                fullWidth\n                size=\"large\"\n                variant=\"contained\"\n                color=\"default\"\n                onClick={() => this.signGoogle()}\n                className=\"provider google\"\n              >\n                <img alt=\"google\" src={GoogleIcon} /> Connexion par Google\n            </Button>\n            <Button\n                type=\"button\"\n                fullWidth\n                color=\"primary\"\n                size=\"large\"\n                onClick={() => this.signEmail()}\n                variant=\"contained\"\n                className=\"provider email\"\n              >\n                <img alt=\"mail\" src={MailIcon} /> Connexion par email\n            </Button>\n            </div>\n          </Container>\n  \n        </div>;\n      }\n    }\n\n    \n    \n  }\n}\n\n\nexport default Login;\n","import React from 'react';\nimport {\n  Route,\n  Redirect,\n  RouteProps,\n} from 'react-router-dom';\nimport authService from '../../services/auth.service';\n\n\nconst PrivateRoute = (props: RouteProps) => {\n  const {children, component, ...rest} = props;\n  const realCmp:any = props.component;\n  return (\n    <Route\n    {...rest}\n    render={({ location, history, match }) =>\n        authService.isAuth ? (\n          /*React.Children.map(children, (child:any) =>\n            React.createElement(child, {history,location})\n          ) */\n          React.createElement(realCmp, {location, history, match})\n        ) : (\n                <Redirect\n                    to={{\n                        pathname: '/login',\n                        state: { fromPathname: location.pathname }\n                    }}\n                />\n            )\n    }\n/>\n  );\n};\n\n\nexport default PrivateRoute;\n","import React, { useState, useEffect } from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ReceiptIcon from '@material-ui/icons/Receipt';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport IciDriveTypoIcon from '../../assets/images/ici-drive-icon.png';\nimport IciDriveBannerIcon from '../../assets/images/ici-drive-banner.png';\nimport './MenuApp.scss';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks';\nimport RoomIcon from '@material-ui/icons/Room';\nimport conf from '../../confs';\nimport authService from '../../services/auth.service';\nimport StorefrontIcon from '@material-ui/icons/Storefront';\n\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    firstButton: {\n      marginRight: theme.spacing(2),\n    },\n    appBar: {\n      color: theme.palette.grey[900],\n      background: theme.palette.common.white\n    },\n    title: {\n      flexGrow: 1,\n      paddingRight:50,\n    },\n    list: {\n      width: 250,\n    },\n    fullList: {\n      width: 'auto',\n    },\n  }),\n);\n\nconst MenuApp = (props: any) => {\n  const classes = useStyles();\n  const [mode, setMode] = useState('full');\n  const [auth] = useState(false);\n  const [email, setEmail] = useState('');\n  const [open, setOpen] = useState(false);\n  const [openAbout, setOpenAbout] = useState(false);\n\n  React.useEffect(() => {\n    setMode(props.mode);\n  }, [props.mode])\n\n  /*useEffect(() => {\n    const subMyProfil = myProfilStore.subscribe((user:User) =>{\n      if(user && user.email)\n        setEmail(user.email.substr(0, user.email.indexOf('@')));\n    })\n    return () => {\n      // Nettoyage de l'abonnement\n      subscription.unsubscribe();\n      subMyProfil.unsubscribe();\n    };\n  });*/\n\n  const logout = () => {\n    if(window.confirm('Voulez-vous déconnecter votre appareil de votre compte ?')){\n      authService.signout();\n      window.location.reload();\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer anchor=\"left\" open={open} onClose={() => setOpen(false)}>\n        <List className=\"drawer-list\">\n        {email && (<ListItem selected button key=\"connected\">\n            <ListItemIcon><AccountCircleIcon /></ListItemIcon>\n            <ListItemText primary=\"Connecté\" secondary={email} />\n          </ListItem>)}\n          <ListItem button key=\"orders\" onClick={() => props.history.push('/my-orders')}>\n            <ListItemIcon><ReceiptIcon /></ListItemIcon>\n            <ListItemText primary=\"Mes réservations\" secondary=\"En cours et passées\" />\n          </ListItem>\n          <ListItem button key=\"point\" onClick={() => props.history.push('/my-profil')}>\n            <ListItemIcon><RoomIcon /></ListItemIcon>\n            <ListItemText primary=\"Retrait &amp; livraison\" />\n          </ListItem>\n          <ListItem button key=\"account\" onClick={() => props.history.push('/my-profil')}>\n            <ListItemIcon><StorefrontIcon /></ListItemIcon>\n            <ListItemText primary=\"Mon drive\" />\n          </ListItem>\n\n          <ListItem button key=\"support\" onClick={() => window.open(conf.support)}>\n            <ListItemIcon><BugReportIcon /></ListItemIcon>\n            <ListItemText primary=\"Support\" secondary=\"Déclarer un incident\" />\n          </ListItem>\n          <ListItem button key=\"mentions\">\n            <ListItemIcon><LibraryBooksIcon /></ListItemIcon>\n            <ListItemText primary=\"Mentions\" secondary=\"CGU, CGR, ...\" />\n          </ListItem>\n          \n          {email && (<ListItem button key=\"logout\" onClick={logout}>\n            <ListItemIcon><ExitToAppIcon /></ListItemIcon>\n            <ListItemText primary=\"Se déconnecter\" secondary=\"Dissocier cet appareil\" />\n          </ListItem>)}\n        </List>\n      </Drawer>\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          {mode === 'full' && (\n            <IconButton edge=\"start\" className={classes.firstButton} onClick={() => setOpen(true)} color=\"inherit\" aria-label=\"menu\">\n              <MenuIcon />\n            </IconButton>\n          )}\n          {mode !== 'full' && (\n            <IconButton edge=\"start\" className={classes.firstButton} onClick={() => props.history.goBack()} color=\"inherit\" aria-label=\"précédent\">\n              <ArrowBackIosIcon />\n            </IconButton>\n          )}\n\n\n          {mode === 'full' && (\n            <Typography variant=\"h6\" className={classes.title}>\n              <img alt=\"icon ici drive\" className=\"ici-drive-icon\" src={IciDriveBannerIcon} />\n            </Typography>\n          )}\n          {['light', 'catalog'].indexOf(mode) > -1 && (\n            <Typography variant=\"h6\" align=\"center\" className={classes.title}>\n              <img alt=\"icon ici drive\" className=\"ici-drive-icon\" src={IciDriveTypoIcon} />\n\n            </Typography>\n          )}\n         \n          {['my-orders'].indexOf(mode) > -1 && (\n            <Typography variant=\"h6\" align=\"center\" className={classes.title}>\n              Mes réservations\n            </Typography>\n          )}\n         \n\n\n          {auth && (\n            <div>\n              <IconButton\n                aria-label=\"Mes réservations\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n\n\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nexport default MenuApp;","import React from 'react';\nimport './NoMatch.scss';\nimport MenuApp from '../../components/menu-app';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport Typography from '@material-ui/core/Typography';\n\nfunction NoMatch(props: any) {\n  return (\n    <div className=\"no-match\">\n      <MenuApp mode=\"light\" history={props.history} />\n\n      <div className=\"area\">\n        <ErrorOutlineIcon />\n        <Typography variant=\"h4\">Page introuvable</Typography>\n\n      </div>\n    </div>\n  );\n}\n\nexport default NoMatch;\n","import { Maker } from \"./maker\";\nimport { Product } from \"./product\";\nimport { User } from \"./user\";\n\nexport interface ProductChoice{\n    product:Product;\n    quantity:number;\n}\n\nexport enum OrderState{\n    PENDING = 'pending',\n\n    VERIFIED = 'verified',\n    REFUSED = 'refused',\n\n    CONFIRMED = 'confirmed',\n    CANCELLED = 'cancelled'\n}\n\nexport interface Order{\n   created:number;\n   updated:number;\n   ref:string;\n   id?:string;\n   status?:OrderState; // ATTENTE_VALIDATION, VALIDEE, REFUSEE, ANNULEE\n   \n   choices: ProductChoice[],\n   maker?: Maker,\n   total:number;\n   slot?: number;\n   reasonOf?:string;\n   customer?: User;\n}","//import httpClientService from './http-client.service';\nimport conf from '../confs';\n\nexport class FcmService {\n    fcm: string = '';\n    lastFcm: string = '';\n    messaging: any;\n    isInit = false;\n\n    public init() {\n        if(this.isInit){return;}\n        this.isInit = true;\n\n        if ((window as any).firebase) {\n            this.messaging = (window as any).firebase.messaging();\n            // Add the public key generated from the console here.\n            this.messaging.usePublicVapidKey(conf.fcmPublicVapidKey);\n            this.messaging.onMessage(this.onMessage.bind(this));\n            this.messaging.onTokenRefresh(this.onTokenRefresh.bind(this));\n        }\n\n        setTimeout(() => {\n            // à chaque rechargement de l'utilisateur, on met à jour le refresh s'il a changé\n            /*myProfilStore.subscribe((myProfil: User) => {\n                if (this.lastFcm !== this.fcm) {\n                    this.lastFcm = this.fcm;\n                    myProfil.fcm = this.fcm;\n\n                    httpClientService.axios.put(conf.API.myProfil(), myProfil).catch((e: any) => console.log(e));\n                }\n            })*/\n        }, 0);\n    }\n\n    onTokenRefresh() {\n        this.messaging.getToken().then((refreshedToken: string) => {\n            console.log('Token refreshed.');\n            this.fcm = refreshedToken;\n        }).catch((err: any) => {\n            console.log('Unable to retrieve refreshed token ', err);\n        });\n\n    }\n\n    onMessage(payload: any) {\n        console.log('Message received. ', payload);\n\n    }\n}\n\nexport default new FcmService();","import {BehaviorSubject, Subscription} from 'rxjs';\nimport { Store } from './store';\nimport {AxiosResponse} from 'axios';\nimport httpClientService from '../services/http-client.service';\nimport conf from '../confs';\nimport { Order } from '../models/order';\n\nexport class OrdersStore implements Store<Order[]>{\n    private sub = new BehaviorSubject<Order[]>([]);\n\n    public set(orders: Order[]): void{\n        this.sub.next(orders);\n    }\n\n    public subscribe(func:any): Subscription{\n        return this.sub.subscribe(func);\n    }\n\n    static async update(order: Order){\n        await httpClientService.axios.put(conf.API.orders(order.id), order);\n    }\n    /**\n     * \n     */\n    public load(id?:string):Promise<Order[]>{\n        return httpClientService.axios.get(conf.API.orders(id))\n        .then((response: AxiosResponse<any>) => {\n            if(id){\n                this.set([response.data]);\n            }else{\n                this.set(response.data);\n            }            \n            return response.data;\n        });\n    }\n}\n\nexport default new OrdersStore() ;","import React from 'react';\nimport './MyOrders.scss';\nimport MenuApp from '../../components/menu-app';\nimport ordersStore from '../../stores/orders';\nimport { Subscription } from 'rxjs';\nimport { Order, OrderState } from '../../models/order';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport * as moment from 'moment';\nimport { withStyles, Theme } from '@material-ui/core/styles';\nimport { deepOrange, grey, green } from '@material-ui/core/colors';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport IconButton from '@material-ui/core/IconButton';\n\n\n\nconst useStyles = (theme: Theme) => ({\n  orange: {\n    color: theme.palette.getContrastText(deepOrange[500]),\n    backgroundColor: deepOrange[500],\n  },\n  grey:{\n    color: theme.palette.getContrastText(grey[500]),\n    backgroundColor: grey[500],\n  },\n  green:{\n    color: theme.palette.getContrastText(green[500]),\n    backgroundColor: green[500],\n  }\n});\n\nclass MyOrders extends React.Component<{ history: any, classes: any }, { orders: Order[] }>{\n\n  \n  statusLabel:any = {};\n  state = { orders: [] };\n  sub: Subscription | null = null;\n\n  componentWillUnmount() {\n    this.sub?.unsubscribe();\n  }\n\n  componentDidMount() {\n    this.statusLabel[OrderState.PENDING] = {label: 'En cours de validation', color: this.props.classes.orange};\n    this.statusLabel[OrderState.CANCELLED] = {label: 'Annulée', color: this.props.classes.grey};\n    this.statusLabel[OrderState.VERIFIED] = {label: 'Vérifiée, en attente de confirmation', color: this.props.classes.orange};\n    this.statusLabel[OrderState.CONFIRMED] = {label: 'Confirmée', color: this.props.classes.green};\n    this.statusLabel[OrderState.REFUSED] = {label:'Refusée', color: this.props.classes.grey}\n\n    \n    this.sub = ordersStore.subscribe((orders: Order[]) => {\n      console.log('MyOrders > ordersStore.sub ',orders);\n      if(orders)\n        (orders as any).sortBy('created',true);\n      this.setState({ orders : orders || [] })\n    });\n\n    // charge la liste des commandes\n    ordersStore.load();\n  }\n\n  render() {\n    return (<div className=\"my-orders\">\n      <MenuApp mode={'my-orders'} history={this.props.history} />\n\n       <div className=\"orders\">\n        <List>\n          {this.state.orders.map((order: Order, i) => (\n            <ListItem key={`li_${i}`} onClick={() => this.props.history.push(`/my-orders/${order.id}`)}>\n              <ListItemAvatar>\n                <Avatar className={this.statusLabel[(order.status as any)].color}>\n                  {this.statusLabel[(order.status as any)].label.substr(0,1).toUpperCase()}\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={this.statusLabel[(order.status as any)].label+` (${order.total}€)`} secondary={moment.default(order.created).format('ddd D MMM à HH:mm')} />\n              <ListItemSecondaryAction>\n                    <IconButton edge=\"end\" aria-label=\"next\">\n                      <ArrowForwardIosIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n\n\n\n        </List>\n      </div>\n    </div>);\n  }\n}\n\nexport default withStyles(useStyles)(MyOrders);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function Confirm(props:any) {\n  const [open, setOpen] = React.useState(false);\n  const [text, setText] = React.useState('');\n  \n\n  React.useEffect(() => {\n    setOpen(props.open);\n  }, [props.open]);\n\n  const handleClose = () => {\n    setOpen(false);\n    props.onClose();\n  };\n\n  const handleConfirm = () => {\n    setOpen(false);\n    props.onConfirm(text);\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">{props.title}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            {props.message}\n          </DialogContentText>\n          {props.withText && <TextField\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n            autoFocus\n            margin=\"dense\"\n            id=\"remarque\"\n            label=\"Remarque\"\n            type=\"text\"\n            inputProps={{ maxLength: 100 }}\n            fullWidth\n          />}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Annuler\n          </Button>\n          <Button onClick={handleConfirm} color=\"primary\">\n            {props.okText || \"Valider\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n}\n","import React from 'react';\nimport './Order.scss';\nimport ordersStore, {OrdersStore} from '../../stores/orders';\nimport { Subscription } from 'rxjs';\nimport * as O from '../../models/order';\nimport * as moment from 'moment';\nimport { withStyles, Theme } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Alert from '@material-ui/lab/Alert';\nimport { deepOrange, grey, green } from '@material-ui/core/colors';\nimport Chip from '@material-ui/core/Chip';\nimport Fab from '@material-ui/core/Fab';\nimport { Maker } from '../../models/maker';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nimport ClearIcon from '@material-ui/icons/Clear';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\n\nimport PrintIcon from '@material-ui/icons/Print';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\nimport PhoneIcon from '@material-ui/icons/Phone';\n\nimport Confirm from './confirm';\nimport MenuApp from '../../components/menu-app';\n\n\nconst pendingActions = [\n  { icon: <PrintIcon />, name: 'print', label:'Imprimer' },\n  { icon: <ClearIcon />, name: 'cancel', label:'Annuler' }\n];\nconst actions = [\n  { icon: <PrintIcon />, name: 'print', label:'Imprimer' },\n  { icon: <PhoneIcon />, name: 'phone', label:'Contacter' }\n];\n\nconst useStyles = (theme: Theme) => ({\n  table: {\n    minWidth: 650,\n  },\n  orange: {\n    color: theme.palette.getContrastText(deepOrange[500]),\n    backgroundColor: deepOrange[500],\n  },\n  grey: {\n    color: theme.palette.getContrastText(grey[500]),\n    backgroundColor: grey[500],\n  },\n  green: {\n    color: theme.palette.common.white,\n    backgroundColor: green[500],\n  }\n});\n\nclass Order extends React.Component<{ history: any, classes: any, match: any }, { openInfoConfirmed: boolean, openCancelDialog:boolean, order: O.Order | null, open: boolean, hidden: boolean }>{\n\n  state = { order: null, open: false, hidden: false, openCancelDialog:false, openInfoConfirmed:false };\n  status: any = {};\n  sub: Subscription | null = null;\n\n\n  componentWillUnmount() {\n    this.sub?.unsubscribe();\n  }\n\n  componentDidMount() {\n    this.status[O.OrderState.PENDING] = {label: 'En cours de validation', color: this.props.classes.orange};\n    this.status[O.OrderState.CANCELLED] = {label: 'Annulée', color: this.props.classes.grey};\n    this.status[O.OrderState.VERIFIED] = {label: 'Vérifiée, en attente de confirmation', color: this.props.classes.orange};\n    this.status[O.OrderState.CONFIRMED] = {label: 'Confirmée', color: this.props.classes.green};\n    this.status[O.OrderState.REFUSED] = {label:'Refusée', color: this.props.classes.grey};\n\n    const id: string = this.props.match.params.id;\n    this.sub = ordersStore.subscribe((orders: O.Order[]) => {\n      console.log('Order > ordersStore.sub ',orders);\n      if (orders && orders.length) {\n        this.setState({ order: orders[0] });\n      }\n    });\n\n    // charge la liste des commandes\n    ordersStore.load(id || '');\n  }\n\n  onClickConfirmOrder(){\n    const newOrder:O.Order = {...(this.state.order as any)};\n    newOrder.reasonOf = '';\n    newOrder.status = O.OrderState.CONFIRMED;\n    OrdersStore.update(newOrder)\n      .then(() => this.setState({openInfoConfirmed:true}))\n      .catch(() => this.props.history.push('/error'));\n  }\n\n\n  cancel(text:string){\n    const newOrder:O.Order = {...(this.state.order as any)};\n    newOrder.reasonOf = text;\n    newOrder.status = O.OrderState.CANCELLED;\n    OrdersStore.update(newOrder)\n      .then(() => this.props.history.push('/my-orders'))\n      .catch(() => this.props.history.push('/error'));\n  }\n\n\n\n  onClickDialAction(action:any){\n    this.setState({ open: false });\n    if(action && (action.name === 'print')){\n      window.print();\n    }else if(action && (action.name === 'cancel')){\n      this.setState({openCancelDialog:true});\n    }else if(action && (action.name === 'phone')){\n      window.open(`tel:${(this.state.order as any).maker.phone}`, '_blank');\n    }\n  }\n\n  render() {\n    const currentOrder: O.Order = (this.state.order as any) as O.Order;\n    const maker: Maker = (currentOrder?.maker as any) as Maker;\n\n    let paymentsLabels = '';\n    if(maker && maker.payments && !maker.payments.acceptPaypal){\n      paymentsLabels = [\n        maker.payments?.acceptCards ? `par carte` : null,\n        maker.payments?.acceptBankCheck ? `par chèque` : null,\n        maker.payments?.acceptCoins ? `en espèce` : null].filter(c => c !== null).join(' / ');\n    }else if(maker && maker.payments && maker.payments.acceptPaypal){\n      paymentsLabels = 'en ligne via Paypal';\n    }\n\n    return (<div className=\"order\">\n      <MenuApp mode=\"light\" history={this.props.history} />\n      {currentOrder && (<Grid container direction=\"column\" justify=\"center\" spacing={1}>\n\n        <Grid item>\n          <Chip label={this.status[(currentOrder.status as any)].label} className={this.status[(currentOrder.status as any)].color} />\n        </Grid>\n\n        {currentOrder.status === O.OrderState.CONFIRMED && paymentsLabels && (<Grid item>\n          <Alert severity=\"warning\">\n            <strong>Consignes de paiement : </strong>{paymentsLabels}\n          </Alert>\n        </Grid>)}\n\n        {currentOrder.reasonOf && (<Grid item>\n          <Alert severity=\"info\">{currentOrder.reasonOf}</Alert>\n        </Grid>)}\n        \n\n        <Grid item>\n          <Grid container direction=\"column\" justify=\"center\" spacing={1}>\n            <Grid item>\n              <TextField label=\"Référence\" variant=\"filled\" fullWidth={true} value={currentOrder.ref} inputProps={{ readOnly: true }} />\n            </Grid>\n            <Grid item>\n              <TextField label=\"Réalisée le\" variant=\"filled\" fullWidth={true} value={moment.default(currentOrder.created).format('ddd D MMM à HH:mm')} inputProps={{ readOnly: true }} />\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <Grid className=\"my-group\" container direction=\"column\" justify=\"center\" spacing={1}>\n            <Grid item>\n              <TextField label=\"Vendeur\" variant=\"filled\" fullWidth={true} value={maker.name} inputProps={{ readOnly: true }} />\n            </Grid>\n            {maker.phone && (<Grid item>\n              <TextField label=\"Téléphone\" variant=\"filled\" fullWidth={true} value={maker.phone} inputProps={{ readOnly: true }} />\n            </Grid>)}\n            {maker.address && (<Grid item>\n              <TextField label=\"Adresse\" variant=\"filled\" fullWidth={true} value={maker.address} inputProps={{ readOnly: true }} />\n            </Grid>)}\n          </Grid>\n        </Grid>\n        <Grid item>\n          <Grid container className=\"my-group\" direction=\"column\" justify=\"center\" spacing={1}>\n            <Grid item>\n              <TextField label=\"@ Client\" variant=\"filled\" fullWidth={true} value={currentOrder.customer?.email} inputProps={{ readOnly: true }} />\n            </Grid>\n            {currentOrder.customer?.lastname && currentOrder.customer?.firstname && (<Grid item>\n              <TextField label=\"Nom / Prénom\" variant=\"filled\" fullWidth={true} value={`${currentOrder.customer?.lastname} ${currentOrder.customer?.firstname}`} inputProps={{ readOnly: true }} />\n            </Grid>)}\n            {currentOrder.customer?.phone && (<Grid item>\n              <TextField label=\"Téléphone\" variant=\"filled\" fullWidth={true} value={currentOrder.customer?.phone} inputProps={{ readOnly: true }} />\n            </Grid>)}\n            {currentOrder.customer?.address && (<Grid item>\n              <TextField label=\"Adresse\" variant=\"filled\" fullWidth={true} value={currentOrder.customer?.address} inputProps={{ readOnly: true }} />\n            </Grid>)}\n          </Grid>\n        </Grid>\n\n\n        <Grid item>\n          <Grid container direction=\"column\" justify=\"center\" spacing={1}>\n            <Grid item>\n              <TextField label=\"Retrait / livraison\" variant=\"filled\" fullWidth={true} value={maker.place.label} inputProps={{ readOnly: true }} />\n            </Grid>\n            <Grid item>\n              <TextField label=\"Adresse\" variant=\"filled\" fullWidth={true} value={maker.place.address} inputProps={{ readOnly: true }} />\n            </Grid>\n            <Grid item>\n              <TextField label=\"Horaire du retrait\" variant=\"filled\" fullWidth={true} value={moment.default(currentOrder.slot).format('ddd D MMM à HH:mm')} inputProps={{ readOnly: true }} />\n            </Grid>\n          </Grid>\n        </Grid>\n\n\n      </Grid>)}\n\n      {currentOrder && currentOrder.choices && (<TableContainer>\n        <Table className={this.props.classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Quantité</TableCell>\n              <TableCell align=\"center\">Réf.</TableCell>\n              <TableCell align=\"center\">P.U.</TableCell>\n              <TableCell align=\"center\">Description</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {currentOrder.choices.map((pc: O.ProductChoice, i) => (\n              <TableRow key={`pc_${i}`}>\n                <TableCell align=\"center\">{pc.quantity}</TableCell>\n                <TableCell align=\"center\">{pc.product.ref}</TableCell>\n                <TableCell align=\"center\">{pc.product.price}</TableCell>\n                <TableCell align=\"center\">{pc.product.description}</TableCell>\n              </TableRow>\n            ))}\n            <TableRow>\n              <TableCell colSpan={3} align=\"right\">Total</TableCell>\n              <TableCell align=\"center\">{currentOrder.total || 'ERREUR'}€</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>)}\n\n    <Confirm title=\"Annuler la commande\" withText={true} onClose={() => this.setState({openCancelDialog:false})} onConfirm={(txt:string) => this.cancel(txt)} message=\"Je souhaite annuler pour le motif :\" open={this.state.openCancelDialog}/>\n    <Confirm title=\"La suite par email\" withText={false} onClose={() => this.setState({openInfoConfirmed:false})} onConfirm={(txt:string) => this.props.history.push('/my-orders')} message=\"Un email récapitulatif vous a été transmis.\" open={this.state.openInfoConfirmed}/>\n\n    \n\n      {/* Actions en fonction des états */}\n\n      {currentOrder && currentOrder.status !== O.OrderState.VERIFIED && (<SpeedDial\n        ariaLabel=\"SpeedDial tooltip example\"\n        className=\"my-speed-dial\"\n        hidden={this.state.hidden}\n        icon={<SpeedDialIcon />}\n        onClose={() => this.setState({ open: false })}\n        onOpen={() => this.setState({ open: true })}\n        open={this.state.open}\n      >\n        {(currentOrder.status === O.OrderState.PENDING ? pendingActions : actions).map((action) => (\n          <SpeedDialAction\n            key={action.name}\n            icon={action.icon}\n            tooltipTitle={action.label}\n            tooltipOpen\n            onClick={() => this.onClickDialAction(action)}\n          />\n        ))}\n      </SpeedDial>)}\n\n      { currentOrder && currentOrder.status === O.OrderState.VERIFIED && (\n        <div className=\"fab-actions\">\n          \n        <Fab size=\"large\" color=\"default\" onClick={() => this.setState({openCancelDialog:true})} aria-label=\"add\" className=\"fab-cancelled\">\n            <CloseIcon />\n        </Fab>\n\n        <Fab size=\"large\" color=\"secondary\" onClick={() => this.onClickConfirmOrder()} aria-label=\"add\" className=\"fab-verified\">\n            <CheckIcon />\n        </Fab>\n        \n          </div>\n      )}\n\n    </div>);\n  }\n}\n\nexport default withStyles(useStyles)(Order);\n","import React from 'react';\nimport './Error.scss';\nimport MenuApp from '../../components/menu-app';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport conf from '../../confs';\n\nfunction Error(props: any) {\n  return (\n    <div className=\"error\">\n      <MenuApp mode=\"light\" history={props.history} />\n\n      <div className=\"area\">\n        <BugReportIcon />\n        <Typography variant=\"h4\">Une erreur est survenue</Typography>\n        <Button color=\"secondary\" onClick={() => window.open(conf.support)}>Déposer un ticket</Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Error;\n","import React from 'react';\nimport './Home.scss';\nimport {\n  Link\n} from \"react-router-dom\";\n\n\nfunction Home() {\n  return (\n    <div className=\"home\">\n      home\n      <Link to=\"/login\">go to login</Link>\n    </div>\n  );\n}\n\nexport default Home;\n","import React from 'react';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Login from './views/login';\nimport PrivateRoute from './components/private-route';\nimport NoMatch from './views/no-match';\nimport { Subscription } from 'rxjs';\nimport httpClientService from './services/http-client.service';\nimport fcmService from './services/fcm.service';\nimport * as moment from 'moment';\nimport 'moment/locale/fr';\nimport MyOrders from './views/my-orders';\nimport Order from './views/order';\nimport Error from './views/error';\nimport Home from './views/home';\n\n\n// @see https://material-ui.com/customization/palette/\n//const theme = createMuiTheme({ \"palette\": { \"common\": { \"black\": \"#000\", \"white\": \"#fff\" }, \"background\": { \"paper\": \"#fff\", \"default\": \"#fafafa\" }, \"primary\": { \"light\": \"rgba(48, 49, 49, 0.84)\", \"main\": \"rgba(48, 49, 49, 1)\", \"dark\": \"rgba(38, 39, 39, 1)\", \"contrastText\": \"#fff\" }, \"secondary\": { \"light\": \"rgba(118, 143, 255, 1)\", \"main\": \"rgba(41, 98, 255, 1)\", \"dark\": \"rgba(0, 57, 203, 1)\", \"contrastText\": \"#fff\" }, \"error\": { \"light\": \"#e57373\", \"main\": \"#f44336\", \"dark\": \"#d32f2f\", \"contrastText\": \"#fff\" }, \"text\": { \"primary\": \"rgba(0, 0, 0, 0.87)\", \"secondary\": \"rgba(0, 0, 0, 0.54)\", \"disabled\": \"rgba(0, 0, 0, 0.38)\", \"hint\": \"rgba(0, 0, 0, 0.38)\" } } });\nconst theme = createMuiTheme({\"palette\":{\"common\":{\"black\":\"#000\",\"white\":\"#fff\"},\"background\":{\"paper\":\"#fff\",\"default\":\"#fafafa\"},\"primary\":{\"light\":\"rgba(74, 74, 74, 0.77)\",\"main\":\"rgba(74, 74, 74, 1)\",\"dark\":\"rgba(61, 61, 62, 1)\",\"contrastText\":\"#fff\"},\"secondary\":{\"light\":\"rgba(255, 102, 0, 0.79)\",\"main\":\"rgba(255, 102, 0, 1)\",\"dark\":\"rgba(192, 77, 0, 1)\",\"contrastText\":\"#fff\"},\"error\":{\"light\":\"#e57373\",\"main\":\"#f44336\",\"dark\":\"#d32f2f\",\"contrastText\":\"#fff\"},\"text\":{\"primary\":\"rgba(0, 0, 0, 0.87)\",\"secondary\":\"rgba(0, 0, 0, 0.54)\",\"disabled\":\"rgba(0, 0, 0, 0.38)\",\"hint\":\"rgba(0, 0, 0, 0.38)\"}}});\n\n\nclass App extends React.Component<{}, { concurrentCalls: number }>{\n\n  state = { concurrentCalls: 0 };\n  subHttpClientRequest: Subscription | null = null;\n  subHttpClientResponse: Subscription | null = null;\n\n  componentDidMount() {\n    fcmService.init();\n    moment.locale('fr');\n    this.subHttpClientRequest = httpClientService.subOnRequest(() => {\n      ///this.setState({ concurrentCalls: this.state.concurrentCalls + 1 });\n    });\n    this.subHttpClientResponse = httpClientService.subOnResponse(() => {\n      if (this.state.concurrentCalls > 0) {\n        //this.setState({ concurrentCalls: this.state.concurrentCalls - 1 });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.subHttpClientRequest?.unsubscribe();\n    this.subHttpClientResponse?.unsubscribe();\n  }\n\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n\n        <Backdrop className=\"backdrop\" open={this.state.concurrentCalls !== 0}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n        <Router>\n          <Switch>\n            {/*<Route exact path=\"/\" render={(routeProps) => <Makers {...routeProps} />} />*/}\n\n            <Route exact path=\"/\" component={Home} />\n\n            <Route path=\"/login\" component={Login} />\n            <PrivateRoute exact path=\"/my-orders\" component={MyOrders} />            \n            <PrivateRoute exact path=\"/my-orders/:id\" component={Order} />           \n\n\n            <Route path=\"/error\" component={Error} />\n            <Route path=\"*\" component={NoMatch} />\n          </Switch>\n        </Router>\n      </MuiThemeProvider>\n    );\n  }\n}\nexport default App;\n\n\n// @see https://reacttraining.com/react-router/web/guides/primary-components\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport  { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport './array.sortBy';\n//import './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}